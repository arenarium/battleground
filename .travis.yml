sudo: required
services:
  - docker
language: node_js
node_js:
  - "7"
before_install:
  - cd ui/frontend
install:
  - npm install
before_script:
  - npm run build
  - export PYTHONPATH=$PYTHONPATH:$(pwd)
  - docker-compose -f docker-compose-ui.yml up --build -d
  - docker build -t main .
  - docker run --network=host main python start.py
script: docker run --network=host main pytest unit_tests
